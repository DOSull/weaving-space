<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" href="./favicon.ico" />
    <!-- Preload is necessary because we show these images when we disconnect from the server,
    but at that point we cannot load these images from the server -->
    <link rel="preload" href="./assets/gradient-yHQUC_QB.png" as="image" />
    <link rel="preload" href="./assets/noise-60BoTA8O.png" as="image" />
    <!-- Preload the fonts -->
    <link rel="preload" href="./assets/Lora-VariableFont_wght-B2ootaw-.ttf" as="font" crossorigin="anonymous" />
    <link rel="preload" href="./assets/PTSans-Regular-CxL0S8W7.ttf" as="font" crossorigin="anonymous" />
    <link rel="preload" href="./assets/PTSans-Bold-D9fedIX3.ttf" as="font" crossorigin="anonymous" />
    <link rel="preload" href="./assets/FiraMono-Regular-BTCkDNvf.ttf" as="font" crossorigin="anonymous" />
    <link rel="preload" href="./assets/FiraMono-Medium-DU3aDxX5.ttf" as="font" crossorigin="anonymous" />
    <link rel="preload" href="./assets/FiraMono-Bold-CLVRCuM9.ttf" as="font" crossorigin="anonymous" />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#000000" />
    <meta name="description" content="a marimo app" />
    <link rel="apple-touch-icon" href="./apple-touch-icon.png" />
    <link rel="manifest" href="./manifest.json" />

    <script data-marimo="true">
      function __resizeIframe(obj) {
        var scrollbarHeight = 20; // Max between windows, mac, and linux

        function setHeight() {
          var element = obj.contentWindow.document.documentElement;
          // If there is no vertical scrollbar, we don't need to resize the iframe
          if (element.scrollHeight === element.clientHeight) {
            return;
          }

          // Create a new height that includes the scrollbar height if it's visible
          var hasHorizontalScrollbar = element.scrollWidth > element.clientWidth;
          var newHeight = element.scrollHeight + (hasHorizontalScrollbar ? scrollbarHeight : 0);

          // Only update the height if it's different from the current height
          if (obj.style.height !== `${newHeight}px`) {
            obj.style.height = `${newHeight}px`;
          }
        }

        // Resize the iframe to the height of the content and bottom scrollbar height
        setHeight();

        // Resize the iframe when the content changes
        const resizeObserver = new ResizeObserver((entries) => {
          setHeight();
        });
        resizeObserver.observe(obj.contentWindow.document.body);
      }
    </script>
    <marimo-filename hidden>notebook.py</marimo-filename>
    <marimo-mode data-mode='read' hidden></marimo-mode>
    <marimo-version data-version='0.11.9' hidden></marimo-version>
    <marimo-user-config data-config='{"completion": {"activate_on_typing": true, "copilot": false}, "display": {"code_editor_font_size": 18, "default_width": "medium", "dataframes": "rich", "theme": "light", "cell_output": "above"}, "formatting": {"line_length": 79}, "keymap": {"preset": "default", "overrides": {}}, "runtime": {"auto_instantiate": true, "auto_reload": "off", "on_cell_change": "autorun", "watcher_on_save": "lazy", "output_max_bytes": 8000000, "std_stream_max_bytes": 1000000}, "save": {"autosave": "off", "autosave_delay": 1000, "format_on_save": false}, "package_management": {"manager": "pip"}, "server": {"browser": "default", "follow_symlink": false}, "snippets": {"custom_paths": [], "include_default_snippets": true}}' data-overrides='{}' hidden></marimo-user-config>
    <marimo-app-config data-config='{"width": "medium", "layout_file": "data:application/json;base64,ewogICJ0eXBlIjogImdyaWQiLAogICJkYXRhIjogewogICAgImNvbHVtbnMiOiAyNCwKICAgICJyb3dIZWlnaHQiOiAyMCwKICAgICJtYXhXaWR0aCI6IDE0MDAsCiAgICAiYm9yZGVyZWQiOiBmYWxzZSwKICAgICJjZWxscyI6IFsKICAgICAgewogICAgICAgICJwb3NpdGlvbiI6IG51bGwKICAgICAgfSwKICAgICAgewogICAgICAgICJwb3NpdGlvbiI6IG51bGwKICAgICAgfSwKICAgICAgewogICAgICAgICJwb3NpdGlvbiI6IG51bGwKICAgICAgfSwKICAgICAgewogICAgICAgICJwb3NpdGlvbiI6IG51bGwKICAgICAgfSwKICAgICAgewogICAgICAgICJwb3NpdGlvbiI6IG51bGwKICAgICAgfSwKICAgICAgewogICAgICAgICJwb3NpdGlvbiI6IFsKICAgICAgICAgIDUsCiAgICAgICAgICAzNywKICAgICAgICAgIDcsCiAgICAgICAgICAyMAogICAgICAgIF0KICAgICAgfSwKICAgICAgewogICAgICAgICJwb3NpdGlvbiI6IFsKICAgICAgICAgIDEyLAogICAgICAgICAgMzcsCiAgICAgICAgICA1LAogICAgICAgICAgMjAKICAgICAgICBdCiAgICAgIH0sCiAgICAgIHsKICAgICAgICAicG9zaXRpb24iOiBbCiAgICAgICAgICAwLAogICAgICAgICAgMCwKICAgICAgICAgIDUsCiAgICAgICAgICAyCiAgICAgICAgXQogICAgICB9LAogICAgICB7CiAgICAgICAgInBvc2l0aW9uIjogWwogICAgICAgICAgMCwKICAgICAgICAgIDIsCiAgICAgICAgICAxNywKICAgICAgICAgIDM1CiAgICAgICAgXQogICAgICB9LAogICAgICB7CiAgICAgICAgInBvc2l0aW9uIjogWwogICAgICAgICAgMCwKICAgICAgICAgIDM3LAogICAgICAgICAgNSwKICAgICAgICAgIDEyCiAgICAgICAgXQogICAgICB9LAogICAgICB7CiAgICAgICAgInBvc2l0aW9uIjogWwogICAgICAgICAgMTcsCiAgICAgICAgICAwLAogICAgICAgICAgNiwKICAgICAgICAgIDIKICAgICAgICBdCiAgICAgIH0sCiAgICAgIHsKICAgICAgICAicG9zaXRpb24iOiBbCiAgICAgICAgICAxNywKICAgICAgICAgIDIsCiAgICAgICAgICA2LAogICAgICAgICAgMwogICAgICAgIF0KICAgICAgfSwKICAgICAgewogICAgICAgICJwb3NpdGlvbiI6IG51bGwKICAgICAgfSwKICAgICAgewogICAgICAgICJwb3NpdGlvbiI6IFsKICAgICAgICAgIDE3LAogICAgICAgICAgNSwKICAgICAgICAgIDcsCiAgICAgICAgICAyNQogICAgICAgIF0KICAgICAgfSwKICAgICAgewogICAgICAgICJwb3NpdGlvbiI6IG51bGwKICAgICAgfSwKICAgICAgewogICAgICAgICJwb3NpdGlvbiI6IFsKICAgICAgICAgIDE3LAogICAgICAgICAgMzAsCiAgICAgICAgICA3LAogICAgICAgICAgMTIKICAgICAgICBdCiAgICAgIH0sCiAgICAgIHsKICAgICAgICAicG9zaXRpb24iOiBudWxsCiAgICAgIH0KICAgIF0KICB9Cn0="}' hidden></marimo-app-config>
    <marimo-server-token data-token='123' hidden></marimo-server-token>
    <title>tiling-explorer-2</title>
    <script type="module" crossorigin src="./assets/index-BiV-b1K2.js"></script>
    <link rel="stylesheet" crossorigin href="./assets/index-DkqMrX_B.css">
  <marimo-wasm hidden=""></marimo-wasm>
    <script>
        if (window.location.protocol === 'file:') {
            alert('Warning: This file must be served by an HTTP server to function correctly.');
        }
    </script>
    
    <style>
        #save-button {
            display: none !important;
        }
        #filename-input {
            display: none !important;
        }
    </style>
    <marimo-code hidden="" data-show-code="false">import%20marimo%0A%0A__generated_with%20%3D%20%220.11.9%22%0Aapp%20%3D%20marimo.App(%0A%20%20%20%20width%3D%22medium%22%2C%0A%20%20%20%20layout_file%3D%22data%3Aapplication%2Fjson%3Bbase64%2CewogICJ0eXBlIjogImdyaWQiLAogICJkYXRhIjogewogICAgImNvbHVtbnMiOiAyNCwKICAgICJyb3dIZWlnaHQiOiAyMCwKICAgICJtYXhXaWR0aCI6IDE0MDAsCiAgICAiYm9yZGVyZWQiOiBmYWxzZSwKICAgICJjZWxscyI6IFsKICAgICAgewogICAgICAgICJwb3NpdGlvbiI6IG51bGwKICAgICAgfSwKICAgICAgewogICAgICAgICJwb3NpdGlvbiI6IG51bGwKICAgICAgfSwKICAgICAgewogICAgICAgICJwb3NpdGlvbiI6IG51bGwKICAgICAgfSwKICAgICAgewogICAgICAgICJwb3NpdGlvbiI6IG51bGwKICAgICAgfSwKICAgICAgewogICAgICAgICJwb3NpdGlvbiI6IG51bGwKICAgICAgfSwKICAgICAgewogICAgICAgICJwb3NpdGlvbiI6IFsKICAgICAgICAgIDUsCiAgICAgICAgICAzNywKICAgICAgICAgIDcsCiAgICAgICAgICAyMAogICAgICAgIF0KICAgICAgfSwKICAgICAgewogICAgICAgICJwb3NpdGlvbiI6IFsKICAgICAgICAgIDEyLAogICAgICAgICAgMzcsCiAgICAgICAgICA1LAogICAgICAgICAgMjAKICAgICAgICBdCiAgICAgIH0sCiAgICAgIHsKICAgICAgICAicG9zaXRpb24iOiBbCiAgICAgICAgICAwLAogICAgICAgICAgMCwKICAgICAgICAgIDUsCiAgICAgICAgICAyCiAgICAgICAgXQogICAgICB9LAogICAgICB7CiAgICAgICAgInBvc2l0aW9uIjogWwogICAgICAgICAgMCwKICAgICAgICAgIDIsCiAgICAgICAgICAxNywKICAgICAgICAgIDM1CiAgICAgICAgXQogICAgICB9LAogICAgICB7CiAgICAgICAgInBvc2l0aW9uIjogWwogICAgICAgICAgMCwKICAgICAgICAgIDM3LAogICAgICAgICAgNSwKICAgICAgICAgIDEyCiAgICAgICAgXQogICAgICB9LAogICAgICB7CiAgICAgICAgInBvc2l0aW9uIjogWwogICAgICAgICAgMTcsCiAgICAgICAgICAwLAogICAgICAgICAgNiwKICAgICAgICAgIDIKICAgICAgICBdCiAgICAgIH0sCiAgICAgIHsKICAgICAgICAicG9zaXRpb24iOiBbCiAgICAgICAgICAxNywKICAgICAgICAgIDIsCiAgICAgICAgICA2LAogICAgICAgICAgMwogICAgICAgIF0KICAgICAgfSwKICAgICAgewogICAgICAgICJwb3NpdGlvbiI6IG51bGwKICAgICAgfSwKICAgICAgewogICAgICAgICJwb3NpdGlvbiI6IFsKICAgICAgICAgIDE3LAogICAgICAgICAgNSwKICAgICAgICAgIDcsCiAgICAgICAgICAyNQogICAgICAgIF0KICAgICAgfSwKICAgICAgewogICAgICAgICJwb3NpdGlvbiI6IG51bGwKICAgICAgfSwKICAgICAgewogICAgICAgICJwb3NpdGlvbiI6IFsKICAgICAgICAgIDE3LAogICAgICAgICAgMzAsCiAgICAgICAgICA3LAogICAgICAgICAgMTIKICAgICAgICBdCiAgICAgIH0sCiAgICAgIHsKICAgICAgICAicG9zaXRpb24iOiBudWxsCiAgICAgIH0KICAgIF0KICB9Cn0%3D%22%2C%0A)%0A%0A%0A%40app.cell(hide_code%3DTrue)%0Adef%20_()%3A%0A%20%20%20%20import%20marimo%20as%20mo%0A%20%20%20%20return%20(mo%2C)%0A%0A%0A%40app.cell(hide_code%3DTrue)%0Adef%20_()%3A%0A%20%20%20%20import%20math%0A%20%20%20%20return%20(math%2C)%0A%0A%0A%40app.cell(hide_code%3DTrue)%0Adef%20_()%3A%0A%20%20%20%20import%20matplotlib%20as%20mpl%0A%20%20%20%20import%20geopandas%20as%20gpd%0A%20%20%20%20from%20weavingspace%20import%20TileUnit%0A%20%20%20%20from%20weavingspace%20import%20Tiling%0A%20%20%20%20return%20TileUnit%2C%20Tiling%2C%20gpd%2C%20mpl%0A%0A%0A%40app.cell(hide_code%3DTrue)%0Adef%20_(gpd)%3A%0A%20%20%20%20gdf%20%3D%20gpd.read_file(%22https%3A%2F%2Fraw.githubusercontent.com%2FDOSull%2Fweaving-space%2Frefs%2Fheads%2Fmain%2Fexamples%2Fdata%2Fdummy-data.json%22%2C%20engine%3D%22fiona%22)%0A%20%20%20%20return%20(gdf%2C)%0A%0A%0A%40app.cell(hide_code%3DTrue)%0Adef%20_(Tiling%2C%20gdf%2C%20tile)%3A%0A%20%20%20%20gdf.plot()%0A%20%20%20%20tiled_map%20%3D%20Tiling(tile%2C%20gdf).get_tiled_map()%0A%20%20%20%20return%20(tiled_map%2C)%0A%0A%0A%40app.cell(hide_code%3DTrue)%0Adef%20_(gdf%2C%20mo%2C%20tile)%3A%0A%20%20%20%20_vars%20%3D%20%5B_%20for%20_%20in%20gdf.columns%20if%20not%20%22geom%22%20in%20_%5D%0A%20%20%20%20_pals%20%3D%20%5B'Reds'%2C%20'summer'%2C%20'Oranges'%2C%20'viridis'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20'spring'%2C%20'Greens'%2C%20'YlGnBu'%2C%20'Blues'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20'winter'%2C%20'Purples'%2C%20'RdPu'%2C%20'Greys'%5D%0A%20%20%20%20vars%20%3D%20mo.ui.array(%5Bmo.ui.dropdown(options%3D_vars%2C%20value%3D_vars%5Bi%5D%2C%20label%3Df%22Tiles%20'%7Bid%7D'%22)%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20for%20i%2C%20id%20in%20enumerate(tile.tiles.tile_id)%5D%2C%20label%3D%22Variables%22)%20%0A%20%20%20%20pals%20%3D%20mo.ui.array(%5Bmo.ui.dropdown(options%3D_pals%2C%20value%3D_pals%5Bi%5D)%20for%20i%2C%20id%20in%20enumerate(tile.tiles.tile_id)%5D%2C%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20label%3D%22Palettes%22)%0A%20%20%20%20mo.md(f%22%23%23%23%23%20%7Bmo.hstack(%5Bvars%2C%20pals%5D%2C%20align%3D%22center%22)%7D%22)%0A%20%20%20%20return%20pals%2C%20vars%0A%0A%0A%40app.cell(hide_code%3DTrue)%0Adef%20_(mpl%2C%20pals)%3A%0A%20%20%20%20_n%20%3D%20len(pals)%0A%20%20%20%20_fig%2C%20_axs%20%3D%20mpl.pyplot.subplots(nrows%20%3D%20_n%2C%20figsize%3D(2%2C%200.2%20%2B%200.34%20*%20_n))%0A%20%20%20%20for%20ax%2C%20cm%20in%20zip(_axs%2C%20pals.value)%3A%0A%20%20%20%20%20%20%20%20_xy%20%3D%20%5B%5Bx%20%2F%20256%20for%20x%20in%20range(257)%5D%2C%20%5Bx%20%2F%20256%20for%20x%20in%20range(257)%5D%5D%0A%20%20%20%20%20%20%20%20ax.imshow(_xy%2C%20aspect%3D'auto'%2C%20cmap%3Dmpl.colormaps.get(cm))%0A%20%20%20%20for%20ax%20in%20_axs%3A%0A%20%20%20%20%20%20%20%20ax.set_axis_off()%0A%20%20%20%20ax%0A%20%20%20%20return%20ax%2C%20cm%0A%0A%0A%40app.cell%0Adef%20_(mo)%3A%0A%20%20%20%20tile_map_button%20%3D%20mo.ui.run_button(label%3D%22Tile%20map!%22)%0A%20%20%20%20tile_map_button%0A%20%20%20%20return%20(tile_map_button%2C)%0A%0A%0A%40app.cell(hide_code%3DTrue)%0Adef%20_(mo%2C%20pals%2C%20tile%2C%20tile_map_button%2C%20tiled_map%2C%20vars)%3A%0A%20%20%20%20mo.stop(not%20tile_map_button.value%2C%20mo.md(%22%23%23%23%20Click%20the%20**Tile%20map!**%20button%20to%20continue%20and%20to%20refresh%20the%20map%20after%20any%20design%20changes%22))%0A%20%20%20%20tiled_map.variables%20%3D%20%7Bk%3A%20v%20for%20k%2C%20v%20in%20zip(tile.tiles.tile_id%2C%20vars.value)%7D%0A%20%20%20%20tiled_map.colourmaps%20%3D%20%7Bk%3A%20v%20for%20k%2C%20v%20in%20zip(vars.value%2C%20pals.value)%7D%0A%20%20%20%20tiled_map.render(legend%3DFalse)%0A%20%20%20%20return%0A%0A%0A%40app.cell(hide_code%3DTrue)%0Adef%20_(mo)%3A%0A%20%20%20%20t_inset%20%3D%20mo.ui.slider(steps%3D%5B0%2C1%2C2%2C3%2C5%2C10%2C20%2C30%2C50%5D%2C%20value%3D0%2C%20show_value%3DTrue)%0A%20%20%20%20p_inset%20%3D%20mo.ui.slider(steps%3D%5B0%2C1%2C2%2C3%2C5%2C10%2C20%2C30%2C50%2C100%2C250%2C500%5D%2C%20value%3D0%2C%20show_value%3DTrue)%0A%20%20%20%20tile_rotate%20%3D%20mo.ui.slider(start%3D-90%2C%20stop%3D90%2C%20step%3D5%2C%20value%3D0%2C%20show_value%3DTrue)%0A%20%20%20%20aspect%20%3D%20mo.ui.slider(start%3D0.3%2C%20stop%3D3%2C%20step%3D0.01%2C%20value%3D1%2C%20show_value%3DTrue)%0A%20%20%20%20crs%20%3D%20mo.ui.dropdown(options%3D%7B%223857%22%3A3857%2C%20%224326%22%3A4326%2C%20%222193%22%3A2193%7D%2C%20value%3D%223857%22)%0A%20%20%20%20spacing%20%3D%20mo.ui.slider(start%3D50%2C%20stop%3D5000%2C%20step%3D50%2C%20value%3D750)%0A%0A%20%20%20%20mo.md(%22%5Cn%22.join(%5B%22%23%23%23%20Tiling%20settings%22%2C%0A%20%20%20%20%20%20f%22%23%23%23%23%20Spacing%20%7Bspacing%7D%22%2C%0A%20%20%20%20%20%20f%22%23%23%23%23%20CRS%20%7Bcrs%7D%22%2C%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20f%22%23%23%23%23%20Rotate%20by%20%7Btile_rotate%7D%22%2C%0A%20%20%20%20%20%20f%22%23%23%23%23%20Width%2Fheight%20%7Baspect%7D%22%2C%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20f%22%23%23%23%23%20Tile%20inset%20%7Bt_inset%7D%22%2C%0A%20%20%20%20%20%20f%22%23%23%23%23%20Prototile%20inset%20%7Bp_inset%7D%22%5D))%0A%20%20%20%20return%20aspect%2C%20crs%2C%20p_inset%2C%20spacing%2C%20t_inset%2C%20tile_rotate%0A%0A%0A%40app.cell(hide_code%3DTrue)%0Adef%20_(mo)%3A%0A%20%20%20%20tiling_type%20%3D%20mo.ui.dropdown(%0A%20%20%20%20%20%20%20%20options%20%3D%20%5B%22hex-slice%22%2C%20%22square-slice%22%2C%20%22hex-dissection%22%2C%20%22cross%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22laves%22%2C%20%22archimedean%22%2C%20%22square-colouring%22%2C%20%22hex-colouring%22%5D%2C%0A%20%20%20%20%20%20%20%20value%20%3D%20%22laves%22%0A%20%20%20%20)%0A%20%20%20%20mo.md(f%22%23%23%23%23%20Type%20(%60tiling_type%60)%3A%20%7Btiling_type%7D%22)%0A%20%20%20%20return%20(tiling_type%2C)%0A%0A%0A%40app.cell(hide_code%3DTrue)%0Adef%20_(mo%2C%20tiling_type)%3A%0A%20%20%20%20if%20%22slice%22%20in%20tiling_type.value%3A%0A%20%20%20%20%20%20%20%20_n%20%3D%20%5Bx%20for%20x%20in%20range(2%2C%2013)%5D%0A%20%20%20%20%20%20%20%20_v%20%3D%206%0A%20%20%20%20%20%20%20%20_prefix%20%3D%20%22Number%20of%20slices%3A%20%22%0A%20%20%20%20elif%20tiling_type.value%20%3D%3D%20%22hex-dissection%22%3A%0A%20%20%20%20%20%20%20%20_n%20%3D%20%5B4%2C%207%2C%209%5D%0A%20%20%20%20%20%20%20%20_v%20%3D%207%0A%20%20%20%20%20%20%20%20_prefix%20%3D%20%22Number%20of%20pieces%3A%20%22%0A%20%20%20%20elif%20tiling_type.value%20%3D%3D%20%22cross%22%3A%0A%20%20%20%20%20%20%20%20_n%20%3D%20%5Bx%20for%20x%20in%20range(2%2C%208)%5D%0A%20%20%20%20%20%20%20%20_v%20%3D%205%0A%20%20%20%20%20%20%20%20_prefix%20%3D%20%22Number%20of%20crosses%3A%20%22%0A%20%20%20%20elif%20%22colour%22%20in%20tiling_type.value%3A%0A%20%20%20%20%20%20%20%20_n%20%3D%20%5Bx%20for%20x%20in%20range(2%2C%2010)%5D%0A%20%20%20%20%20%20%20%20_v%20%3D%207%0A%20%20%20%20%20%20%20%20_prefix%20%3D%20%22Number%20of%20colours%3A%20%22%0A%20%20%20%20else%3A%0A%20%20%20%20%20%20%20%20_n%20%3D%20%5B0%2C%201%5D%0A%20%20%20%20%20%20%20%20_prefix%20%3D%20%22NA%22%0A%20%20%20%20%20%20%20%20_v%20%3D%200%0A%0A%20%20%20%20n%20%3D%20mo.ui.slider(steps%20%3D%20_n%2C%20value%20%3D%20_v%2C%20show_value%3DTrue)%0A%0A%20%20%20%20if%20%22slice%22%20in%20tiling_type.value%3A%0A%20%20%20%20%20%20%20%20_offset%20%3D%20%5Bx%20%2F%20100%20for%20x%20in%20range(101)%5D%0A%20%20%20%20%20%20%20%20_v_offset%20%3D%200%0A%20%20%20%20else%3A%0A%20%20%20%20%20%20%20%20_offset%20%3D%20%5B0%2C%201%5D%0A%20%20%20%20%20%20%20%20_v_offset%20%3D%200%0A%0A%20%20%20%20offset%20%3D%20mo.ui.slider(steps%20%3D%20_offset%2C%20value%20%3D%20_v_offset%2C%20show_value%3DTrue)%0A%0A%20%20%20%20code%20%3D%20mo.ui.dropdown(%0A%20%20%20%20%20%20%20%20options%20%3D%20%5B%223.3.3.3.6%22%2C%20%223.3.4.3.4%22%2C%20%223.4.6.4%22%2C%20%223.6.3.6%22%2C%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%223.12.12%22%2C%20%224.6.12%22%2C%20%224.8.8%22%5D%2C%0A%20%20%20%20%20%20%20%20value%20%3D%20%223.3.4.3.4%22%20%20%20%20%20%0A%20%20%20%20)%0A%0A%20%20%20%20if%20tiling_type.value%20in%20%5B%22laves%22%2C%20%22archimedean%22%5D%3A%0A%20%20%20%20%20%20%20%20_str%20%3D%20f%22%23%23%23%23%20Code%20(%60code%60)%3A%20%7Bcode%7D%22%0A%20%20%20%20else%3A%0A%20%20%20%20%20%20%20%20_str%20%3D%20f%22%23%23%23%23%20%7B_prefix%7D%20(%60n%60)%20%7Bn%7D%22%0A%20%20%20%20%20%20%20%20if%20%22slice%22%20in%20tiling_type.value%20or%20tiling_type.value%20%3D%3D%20%22hex-dissection%22%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20_str%20%3D%20%22%5Cn%22.join(%5B_str%2C%20f%22%23%23%23%23%20Offset%20(%60offset%60)%3A%20%7Boffset%7D%22%5D)%0A%0A%20%20%20%20mo.md(_str)%0A%20%20%20%20return%20code%2C%20n%2C%20offset%0A%0A%0A%40app.cell(hide_code%3DTrue)%0Adef%20_(%0A%20%20%20%20TileUnit%2C%0A%20%20%20%20aspect%2C%0A%20%20%20%20code%2C%0A%20%20%20%20crs%2C%0A%20%20%20%20math%2C%0A%20%20%20%20n%2C%0A%20%20%20%20offset%2C%0A%20%20%20%20p_inset%2C%0A%20%20%20%20spacing%2C%0A%20%20%20%20t_inset%2C%0A%20%20%20%20tile_rotate%2C%0A%20%20%20%20tiling_type%2C%0A)%3A%0A%20%20%20%20tile%20%3D%20TileUnit(tiling_type%3Dtiling_type.value%2C%20n%20%3D%20n.value%2C%20code%20%3D%20code.value%2C%20offset%20%3D%20offset.value%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20spacing%3Dspacing.value%2C%20crs%3Dcrs.value)%20%5C%0A%20%20%20%20%20%20%20%20%20%20.transform_rotate(tile_rotate.value)%20%5C%0A%20%20%20%20%20%20%20%20%20%20.transform_scale(math.sqrt(aspect.value)%2C%201%2Fmath.sqrt(aspect.value))%20%5C%0A%20%20%20%20%20%20%20%20%20%20.inset_tiles(t_inset.value)%20%5C%0A%20%20%20%20%20%20%20%20%20%20.inset_prototile(p_inset.value)%0A%20%20%20%20return%20(tile%2C)%0A%0A%0A%40app.cell%0Adef%20_(plot_tiles%2C%20tile)%3A%0A%20%20%20%20plot_tiles(tile)%0A%20%20%20%20return%0A%0A%0A%40app.cell(hide_code%3DTrue)%0Adef%20_(%0A%20%20%20%20aspect%2C%0A%20%20%20%20code%2C%0A%20%20%20%20crs%2C%0A%20%20%20%20math%2C%0A%20%20%20%20mo%2C%0A%20%20%20%20n%2C%0A%20%20%20%20offset%2C%0A%20%20%20%20p_inset%2C%0A%20%20%20%20spacing%2C%0A%20%20%20%20t_inset%2C%0A%20%20%20%20tile_rotate%2C%0A%20%20%20%20tiling_type%2C%0A)%3A%0A%20%20%20%20_str%20%3D%20f'%23%23%23%20%60TileUnit(tiling_type%3D%22%7Btiling_type.value%7D%22'%0A%20%20%20%20if%20tiling_type.value%20in%20%5B%22laves%22%2C%20%22archimedean%22%5D%3A%0A%20%20%20%20%20%20%20%20_str%20%3D%20_str%20%2B%20f'%2C%20code%3D%22%7Bcode.value%7D%22'%0A%20%20%20%20else%3A%0A%20%20%20%20%20%20%20%20_str%20%3D%20_str%20%2B%20f'%2C%20n%3D%7Bn.value%7D'%0A%20%20%20%20%20%20%20%20if%20tiling_type.value%20in%20%5B%22hex-slice%22%2C%20%22square-slice%22%2C%20%22hex-dissection%22%5D%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20_str%20%3D%20_str%20%2B%20f'%2C%20offset%3D%7Boffset.value%7D'%0A%20%20%20%20_str%20%3D%20_str%20%2B%20f'%2C%20spacing%3D%7Bspacing.value%7D%2C%20crs%3D%7Bcrs.value%7D)'%0A%20%20%20%20if%20tile_rotate.value%20!%3D%200%3A%0A%20%20%20%20%20%20%20%20_str%20%3D%20_str%20%2B%20f'.transform_rotate(%7Btile_rotate.value%7D)'%0A%20%20%20%20if%20aspect.value%20!%3D%201%3A%0A%20%20%20%20%20%20%20%20_str%20%3D%20_str%20%2B%20f'.transform_scale(%7Bmath.sqrt(aspect.value)%3A.3f%7D%2C%20%7B1%2Fmath.sqrt(aspect.value)%3A.3f%7D)'%0A%20%20%20%20if%20t_inset.value%20!%3D%200%3A%0A%20%20%20%20%20%20%20%20_str%20%3D%20_str%20%2B%20f'.inset_tiles(%7Bt_inset.value%7D)'%0A%20%20%20%20if%20p_inset.value%20!%3D%200%3A%0A%20%20%20%20%20%20%20%20_str%20%3D%20_str%20%2B%20f'.inset_prototile(%7Bp_inset.value%7D)'%0A%20%20%20%20_str%20%3D%20_str%20%2B%20f'%60'%0A%0A%20%20%20%20mo.md(_str)%0A%20%20%20%20return%0A%0A%0A%40app.cell(hide_code%3DTrue)%0Adef%20_(mo)%3A%0A%20%20%20%20radius%20%3D%20mo.ui.slider(0%2C%204%2C%20value%3D1%2C%20show_value%3DTrue)%0A%20%20%20%20show_prototile%20%3D%20mo.ui.switch(value%3DFalse)%0A%20%20%20%20show_reg_prototile%20%3D%20mo.ui.switch(value%3DFalse)%0A%20%20%20%20show_vectors%20%3D%20mo.ui.switch(value%3DFalse)%0A%20%20%20%20show_ids%20%3D%20mo.ui.switch(value%3DTrue)%0A%20%20%20%20palette%20%3D%20mo.ui.dropdown(options%3D%5B%22Spectral%22%2C%20%22tab10%22%2C%20%22tab20%22%5D%2C%20value%3D%22Spectral%22)%0A%0A%20%20%20%20mo.md(%22%5Cn%22.join(%5B%22%23%23%23%20Tile%20design%20view%20settings%22%2C%0A%20%20%20%20%20%20f%22%23%23%23%23%20Set%20radius%20%7Bradius%7D%22%2C%0A%20%20%20%20%20%20f%22%23%23%23%23%20Show%20vectors%20%7Bshow_vectors%7D%22%2C%0A%20%20%20%20%20%20f%22%23%23%23%23%20Show%20base%20tile%20%7Bshow_prototile%7D%22%2C%0A%20%20%20%20%20%20f%22%23%23%23%23%20Show%20prototile%20%7Bshow_reg_prototile%7D%22%2C%0A%20%20%20%20%20%20f%22%23%23%23%23%20Show%20tile%20IDs%20%7Bshow_ids%7D%22%2C%0A%20%20%20%20%20%20f%22%23%23%23%23%20Palette%20%7Bpalette%7D%22%5D))%0A%20%20%20%20return%20(%0A%20%20%20%20%20%20%20%20palette%2C%0A%20%20%20%20%20%20%20%20radius%2C%0A%20%20%20%20%20%20%20%20show_ids%2C%0A%20%20%20%20%20%20%20%20show_prototile%2C%0A%20%20%20%20%20%20%20%20show_reg_prototile%2C%0A%20%20%20%20%20%20%20%20show_vectors%2C%0A%20%20%20%20)%0A%0A%0A%40app.cell(hide_code%3DTrue)%0Adef%20_(%0A%20%20%20%20mpl%2C%0A%20%20%20%20pals%2C%0A%20%20%20%20radius%2C%0A%20%20%20%20show_ids%2C%0A%20%20%20%20show_prototile%2C%0A%20%20%20%20show_reg_prototile%2C%0A%20%20%20%20show_vectors%2C%0A)%3A%0A%20%20%20%20def%20plot_tiles(tiles)%3A%0A%20%20%20%20%20%20%20%20cm%20%3D%20mpl.colors.ListedColormap(%5Bmpl.colormaps.get(p)(0.75)%20for%20p%20in%20pals.value%5D)%0A%20%20%20%20%20%20%20%20plot%20%3D%20tiles.plot(r%3Dradius.value%2C%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20show_vectors%3Dshow_vectors.value%2C%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20show_prototile%3Dshow_prototile.value%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20show_reg_prototile%3Dshow_reg_prototile.value%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20show_ids%3Dshow_ids.value%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cmap%3Dcm)%0A%20%20%20%20%20%20%20%20plot.axis(%22off%22)%0A%20%20%20%20%20%20%20%20return%20plot%0A%20%20%20%20return%20(plot_tiles%2C)%0A%0A%0Aif%20__name__%20%3D%3D%20%22__main__%22%3A%0A%20%20%20%20app.run()%0A</marimo-code></head>
  <body>
    <div id="root"></div>
  </body>
</html>
